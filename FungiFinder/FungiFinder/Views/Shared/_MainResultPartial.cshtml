@model FunctionMainResultPartialVM


<style>
    #myProgress {
        width: 100%;
        background-color: #ddd;
    }

    #myBar {
        width: 10%;
        height: 30px;
        background-color: #4CAF50;
        text-align: center;
        line-height: 30px;
        color: white;
    }
</style>

<div class="justify-content-center align-self-center">
    <div class="card" style="width: 30rem;">
        <img class="card-img-top" src="~/Images/@Model.UrlMatchedMushroom" alt="Card image cap">
        <div class="card-body">
            <h5 class="card-title">@Model.Name</h5>
            <h6 class="card-title">@Model.LatinName</h6>
            <h7 class="card-text">@(@Model.ProcentResult.ToString().Remove(5)) %</h7>
            @if (@Model.EdibleOrPosinous)
            {
                <div>
                    @for (int i = 0; i < 5; i++)
                    {
                        if (i < Model.Rating)
                        {
                            <img src="~/Images/Logos/TranspIconBlack.png" style="height: 30px" />
                        }
                        else
                        {
                            <img src="~/Images/Logos/TranspIconGrey.png" style="height: 30px" />
                        }
                    }
                </div>
            }
            else
            {
                <p><img src="~/Images/Logos/PoisionIcon.png" style="height: 35px" /> Svampen är giftig!  </p>
            }
            <br />
            <p class="card-text">@Model.Info</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
    </div>
</div>


@*<div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="${@Model.ProcentResult * 100}" style="width: 75%"></div>
    </div>*@
@*<div class="col-xs-12 col-sm-12 progress-container" onload="animateBar(@Model.ProcentResult)" >
        <div class="progress progress-striped active">
            <div class="progress-bar progress-bar-success" style="width:0%"></div>
        </div>
    </div>
    <br />*@
@*<div class="progress" onload="animateBar(@Model.ProcentResult)">
        <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="${@Model.ProcentResult * 100}">25%</div>
    </div>*@


@*<div id="myProgress">
        <div onshow="" id="myBar">10%</div>
    </div>

    <br>*@


<script>
    function animateBar(result) {
        let resWidth = result * 100
        console.log(resWidth);
        $(".progress-bar").animate({
            width: resWidth
        })
    }
</script>

